<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="addDataToRequest"><span class="type-signature">(constant) </span>addDataToRequest<span class="type-signature"></span></h4>




<div class="description">
    <p>middleware for adding data to request and limit the size of date that a user can send (for security purpose).</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="aliasTopTours"><span class="type-signature">(constant) </span>aliasTopTours<span class="type-signature"></span></h4>




<div class="description">
    <p>aliasTopTours middleware is for adding the following query to the req object's query object:</p>
<ul>
<li>limit equals to 5, because we getting top 5 best cheapest tour</li>
<li>sort = &quot;-ratingsAverage, price&quot;, descending order for ratingsAverage (best) and ascending order for price (cheapest)</li>
<li>fields = &quot;name,price,ratingsAverage,summary,difficulty&quot;, select only the fields in the quotes.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="allowAccess"><span class="type-signature">(constant) </span>allowAccess<span class="type-signature"></span></h4>




<div class="description">
    <p>cors middleware for Access-Control-Allow-Origin
allowing localhost:3000 to send requests to our server</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="app"><span class="type-signature">(constant) </span>app<span class="type-signature"> :Express</span></h4>




<div class="description">
    <p>creating express app</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Express</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="compressionData"><span class="type-signature">(constant) </span>compressionData<span class="type-signature"></span></h4>




<div class="description">
    <p>compression middleware for making our server faster by reducing the data that we'll send to the clients</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line131">line 131</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="createOne"><span class="type-signature">(constant) </span>createOne<span class="type-signature"></span></h4>




<div class="description">
    <ul>
<li>createOne function is Closure Function</li>
<li>this function for factory our code.</li>
<li>instead of writing createTour, createUser or createSomething code and then have lots of duplicate code</li>
<li>createOne solved that problem by writing one implementation code for createTour or createUser and just passing Model of Tour or User to it.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_handlerFactory.js.html">controllers/handlerFactory.js</a>, <a href="controllers_handlerFactory.js.html#line84">line 84</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="createTour"><span class="type-signature">(constant) </span>createTour<span class="type-signature"></span></h4>




<div class="description">
    <p>createTour middleware which will call createOne Closure function
and passing Tour to it, to let it  know &quot;create document for what model&quot;</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="deleteOne"><span class="type-signature">(constant) </span>deleteOne<span class="type-signature"></span></h4>




<div class="description">
    <ul>
<li>deleteOne function is Closure Function</li>
<li>this function for factory our code.</li>
<li>instead of writing deleteTour, deleteUser or deleteSomething code and then have lots of duplicate code</li>
<li>deleteOne solved that problem by writing one implementation code for deleteTour or deleteUser and just passing Model of Tour or User to it.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_handlerFactory.js.html">controllers/handlerFactory.js</a>, <a href="controllers_handlerFactory.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="deleteTour"><span class="type-signature">(constant) </span>deleteTour<span class="type-signature"></span></h4>




<div class="description">
    <p>deleteTour middleware which will call deleteOne Closure function
and passing Tour to it, to let it  know &quot;delete document for what model&quot;</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getAll"><span class="type-signature">(constant) </span>getAll<span class="type-signature"></span></h4>




<div class="description">
    <ul>
<li>getAll function is Closure Function</li>
<li>this function for factory our code.</li>
<li>instead of writing getAllTour, getAllUser or getAllSomething code and then have lots of duplicate code</li>
<li>getAll solved that problem by writing one implementation code for getAllTour or getAllUser and just passing Model of Tour or User to it.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_handlerFactory.js.html">controllers/handlerFactory.js</a>, <a href="controllers_handlerFactory.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getAllTours"><span class="type-signature">(constant) </span>getAllTours<span class="type-signature"></span></h4>




<div class="description">
    <p>getAllTours middleware which will call getAll Closure function
and passing Tour to it, to let it  know &quot;get all documents for what model&quot;</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getDistances"><span class="type-signature">(constant) </span>getDistances<span class="type-signature"></span></h4>




<div class="description">
    <p>getDistances is middleware for getting distances of giving points</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line268">line 268</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getMonthlyPlan"><span class="type-signature">(constant) </span>getMonthlyPlan<span class="type-signature"></span></h4>




<div class="description">
    <p>getMonthlyPlan is middleware for get monthly play for specific year</p>
<ul>
<li>it will send  number of tours that will start for specific month and array of names of that tours</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line190">line 190</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getOne"><span class="type-signature">(constant) </span>getOne<span class="type-signature"></span></h4>




<div class="description">
    <ul>
<li>getOne function is Closure Function</li>
<li>this function for factory our code.</li>
<li>instead of writing getTour, getUser or getSomething code and then have lots of duplicate code</li>
<li>getOne solved that problem by writing one implementation code for getTour or getUser and by passing Model of Tour or User and  populate options to it.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_handlerFactory.js.html">controllers/handlerFactory.js</a>, <a href="controllers_handlerFactory.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getTour"><span class="type-signature">(constant) </span>getTour<span class="type-signature"></span></h4>




<div class="description">
    <p>getTour middleware which will call getOne Closure function
and passing Tour model and optional populate options to it, to let it  know &quot;get document for what model&quot;</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getTourStats"><span class="type-signature">(constant) </span>getTourStats<span class="type-signature"></span></h4>




<div class="description">
    <p>middleware of getting tour statistics that group by difficulty fields:</p>
<ul>
<li>total number of tours</li>
<li>total number of rating for the tours</li>
<li>average number of Rating for the tours</li>
<li>average number of price for the tours</li>
<li>minimum number of price for the tours</li>
<li>maximum number of price for the tours</li>
<li>and then sort them by average price</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line158">line 158</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getToursWithIn"><span class="type-signature">(constant) </span>getToursWithIn<span class="type-signature"></span></h4>




<div class="description">
    <p>middleware for getting tours within giving lat and leg points using monogdb $geoWithin operator</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line235">line 235</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="httpSecurityHeaders"><span class="type-signature">(constant) </span>httpSecurityHeaders<span class="type-signature"></span></h4>




<div class="description">
    <p>set http security headers to increase the security of our server</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="limiter"><span class="type-signature">(constant) </span>limiter<span class="type-signature"></span></h4>




<div class="description">
    <p>limit request sending from IP to 100 request per hour.
for security purpose
max - limit of  request that the user can send
windowMs - time of restarting the number of request
message - when the user reach the limit he/her will see the message</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="morganDev"><span class="type-signature">(constant) </span>morganDev<span class="type-signature"></span></h4>




<div class="description">
    <p>log in all requests that sent to our server for the developer to see them</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="noSQlInjection"><span class="type-signature">(constant) </span>noSQlInjection<span class="type-signature"></span></h4>




<div class="description">
    <p>data sanitization against NoSQL injection, it will remove all $
(for security purpose).</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line94">line 94</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="preventParameterPollution"><span class="type-signature">(constant) </span>preventParameterPollution<span class="type-signature"></span></h4>




<div class="description">
    <ul>
<li>Prevent parameter pollution (just take the last parameter) like php</li>
<li>white list means the element inside it , it's okay to be array of values</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line114">line 114</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="protect"><span class="type-signature">(constant) </span>protect<span class="type-signature"></span></h4>




<div class="description">
    <p>protect middleware for allowing only logged in user to access all protect routes</p>
<ul>
<li>using jwt jsonWebToken that will be create and then send it to a user every time a user login to our system</li>
<li>when a user send request to protect route a user need to send jwt to access that protect route</li>
<li>if a user allowed to access a protect route then send a data to a user else send a user some error message</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_authController.js.html">controllers/authController.js</a>, <a href="controllers_authController.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="resizeTourImages"><span class="type-signature">(constant) </span>resizeTourImages<span class="type-signature"></span></h4>




<div class="description">
    <p>middleware of resizing images in saving them</p>
<ul>
<li>using sharp npm package</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="restrictTo"><span class="type-signature">(constant) </span>restrictTo<span class="type-signature"></span></h4>




<div class="description">
    <p>restrictTo is Closure Function and it's for limiting access to some users for some routes</p>
<ul>
<li>param   roles - array of roles (admin, lead and ...)</li>
<li>returns middleware</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_authController.js.html">controllers/authController.js</a>, <a href="controllers_authController.js.html#line201">line 201</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="sanitizationXss"><span class="type-signature">(constant) </span>sanitizationXss<span class="type-signature"></span></h4>




<div class="description">
    <p>data sanitization against XSS, in other word clean user input from any javascript injection</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="staticFiles"><span class="type-signature">(constant) </span>staticFiles<span class="type-signature"></span></h4>




<div class="description">
    <p>middleware for serving static files to the client</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="updateOne"><span class="type-signature">(constant) </span>updateOne<span class="type-signature"></span></h4>




<div class="description">
    <ul>
<li>updateOne function is Closure Function</li>
<li>this function for factory our code.</li>
<li>instead of writing updateTour, updateUser or updateSomething code and then have lots of duplicate code</li>
<li>updateOne solved that problem by writing one implementation code for updateTour or updateUser and just passing Model of Tour or User to it.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_handlerFactory.js.html">controllers/handlerFactory.js</a>, <a href="controllers_handlerFactory.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="updateTour"><span class="type-signature">(constant) </span>updateTour<span class="type-signature"></span></h4>




<div class="description">
    <p>updateTour middleware which will call updateOne Closure function
and passing Tour to it, to let it  know &quot;update document for what model&quot;</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line124">line 124</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="uploadTourImages"><span class="type-signature">(constant) </span>uploadTourImages<span class="type-signature"></span></h4>




<div class="description">
    <p>uploadTourImages middleware is for letting users upload images for a tour using multer</p>
<ul>
<li>this middleware will add files to the req object.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_tourController.js.html">controllers/tourController.js</a>, <a href="controllers_tourController.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="globalErrorHandler"><span class="type-signature"></span>globalErrorHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <ul>
<li>globalErrorHandler middleware for handling any expect error in our server</li>
<li>it's error middleware and express knows that by looking at the number of parameters of the middleware if it is 4 parameters then this is error middleware</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line98">line 98</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleCastErrorDB"><span class="type-signature"></span>handleCastErrorDB<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <ul>
<li>handling mongoose CastError</li>
<li>that will happened when a wrong document's _id passed to the model</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleDuplicateFieldsDB"><span class="type-signature"></span>handleDuplicateFieldsDB<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>handling mongoose duplicate fields for unique fields</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleJWTError"><span class="type-signature"></span>handleJWTError<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <ul>
<li>handling Json web token error</li>
<li>that will happen when the user passed invalid jwt</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleJWTExpired"><span class="type-signature"></span>handleJWTExpired<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <ul>
<li>handling expired token error</li>
<li>that will happen when the user passed expired token</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line53">line 53</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleJWTRecentlyCPError"><span class="type-signature"></span>handleJWTRecentlyCPError<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <ul>
<li>handling expired token error</li>
<li>that will happen when the user passed token has created before the user change his/her password</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleUnCaughtException"><span class="type-signature"></span>handleUnCaughtException<span class="signature">(err)</span><span class="type-signature"> &rarr; {void}</span></h4>
    

    



<div class="description">
    <p>handling uncaught Exception error globally</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">TypeError</span>


            
            </td>

            

            

            <td class="description last"><p>uncaught error object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line14">line 14</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="handleValidationErrorDB"><span class="type-signature"></span>handleValidationErrorDB<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>handling mongoose validation error failed that we set in a schema</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="handleWrongURL"><span class="type-signature"></span>handleWrongURL<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>middleware for handling a wrong http request</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line165">line 165</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="main"><span class="type-signature">(async) </span>main<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>
    

    



<div class="description">
    <p>main function to use 'await' keyword inside server.js</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sendErrorDev"><span class="type-signature"></span>sendErrorDev<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>send long error with all the details to the developer</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_errorController.js.html">controllers/errorController.js</a>, <a href="controllers_errorController.js.html#line69">line 69</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="unhandledRejection"><span class="type-signature"></span>unhandledRejection<span class="signature">(err)</span><span class="type-signature"> &rarr; {void}</span></h4>
    

    



<div class="description">
    <p>handling unhandled Rejection error globally</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">TypeError</span>


            
            </td>

            

            

            <td class="description last"><p>uncaught error object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addDataToRequest">addDataToRequest</a></li><li><a href="global.html#aliasTopTours">aliasTopTours</a></li><li><a href="global.html#allowAccess">allowAccess</a></li><li><a href="global.html#app">app</a></li><li><a href="global.html#compressionData">compressionData</a></li><li><a href="global.html#createOne">createOne</a></li><li><a href="global.html#createTour">createTour</a></li><li><a href="global.html#deleteOne">deleteOne</a></li><li><a href="global.html#deleteTour">deleteTour</a></li><li><a href="global.html#getAll">getAll</a></li><li><a href="global.html#getAllTours">getAllTours</a></li><li><a href="global.html#getDistances">getDistances</a></li><li><a href="global.html#getMonthlyPlan">getMonthlyPlan</a></li><li><a href="global.html#getOne">getOne</a></li><li><a href="global.html#getTour">getTour</a></li><li><a href="global.html#getTourStats">getTourStats</a></li><li><a href="global.html#getToursWithIn">getToursWithIn</a></li><li><a href="global.html#globalErrorHandler">globalErrorHandler</a></li><li><a href="global.html#handleCastErrorDB">handleCastErrorDB</a></li><li><a href="global.html#handleDuplicateFieldsDB">handleDuplicateFieldsDB</a></li><li><a href="global.html#handleJWTError">handleJWTError</a></li><li><a href="global.html#handleJWTExpired">handleJWTExpired</a></li><li><a href="global.html#handleJWTRecentlyCPError">handleJWTRecentlyCPError</a></li><li><a href="global.html#handleUnCaughtException">handleUnCaughtException</a></li><li><a href="global.html#handleValidationErrorDB">handleValidationErrorDB</a></li><li><a href="global.html#handleWrongURL">handleWrongURL</a></li><li><a href="global.html#httpSecurityHeaders">httpSecurityHeaders</a></li><li><a href="global.html#limiter">limiter</a></li><li><a href="global.html#main">main</a></li><li><a href="global.html#morganDev">morganDev</a></li><li><a href="global.html#noSQlInjection">noSQlInjection</a></li><li><a href="global.html#preventParameterPollution">preventParameterPollution</a></li><li><a href="global.html#protect">protect</a></li><li><a href="global.html#resizeTourImages">resizeTourImages</a></li><li><a href="global.html#restrictTo">restrictTo</a></li><li><a href="global.html#sanitizationXss">sanitizationXss</a></li><li><a href="global.html#sendErrorDev">sendErrorDev</a></li><li><a href="global.html#staticFiles">staticFiles</a></li><li><a href="global.html#unhandledRejection">unhandledRejection</a></li><li><a href="global.html#updateOne">updateOne</a></li><li><a href="global.html#updateTour">updateTour</a></li><li><a href="global.html#uploadTourImages">uploadTourImages</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Sep 29 2021 09:18:26 GMT+0800 (China Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>